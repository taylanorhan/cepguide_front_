{"ast":null,"code":"import React,{useContext,useState,useRef,useEffect}from'react';import{GlobalContext}from'../../context/GlobalState';import QRCode from'qrcode.react';import'./Orders.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const generateRandomId=()=>{const min=10000;const max=9999999;return Math.floor(Math.random()*(max-min+1))+min;};function Orders(){const{orders}=useContext(GlobalContext);const[showModal,setShowModal]=useState(false);const[selectedQR,setSelectedQR]=useState('');const modalRef=useRef();const handleQRClick=orderId=>{setSelectedQR(orderId);setShowModal(true);};useEffect(()=>{const handleClickOutside=event=>{if(modalRef.current&&!modalRef.current.contains(event.target)){setShowModal(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-list\",children:[orders.map((order,index)=>{const orderId=generateRandomId();return/*#__PURE__*/_jsxs(\"div\",{className:\"order-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-qr\",onClick:()=>handleQRClick(orderId),children:/*#__PURE__*/_jsx(QRCode,{value:\"Order ID: \".concat(orderId),size:60})}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order ID: \",orderId]}),order.items.map((item,itemIndex)=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-price\",children:[\"\\u20BA\",item.price]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-name\",children:item.name})]},itemIndex))]},index);}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",ref:modalRef,children:[/*#__PURE__*/_jsx(\"span\",{className:\"close\",onClick:()=>setShowModal(false),children:\"\\xD7\"}),/*#__PURE__*/_jsx(QRCode,{value:\"Order ID: \".concat(selectedQR),size:256})]})})]});}export default Orders;","map":{"version":3,"names":["React","useContext","useState","useRef","useEffect","GlobalContext","QRCode","jsx","_jsx","jsxs","_jsxs","generateRandomId","min","max","Math","floor","random","Orders","orders","showModal","setShowModal","selectedQR","setSelectedQR","modalRef","handleQRClick","orderId","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","map","order","index","onClick","value","concat","size","items","item","itemIndex","price","name","ref"],"sources":["/Users/orhan/Desktop/CepGuide/src/components/orders/Orders.js"],"sourcesContent":["import React, { useContext, useState, useRef, useEffect } from 'react';\nimport { GlobalContext } from '../../context/GlobalState';\nimport QRCode from 'qrcode.react';\nimport './Orders.css';\n\nconst generateRandomId = () => {\n  const min = 10000;\n  const max = 9999999;\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\nfunction Orders() {\n  const { orders } = useContext(GlobalContext);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedQR, setSelectedQR] = useState('');\n  const modalRef = useRef();\n\n  const handleQRClick = (orderId) => {\n    setSelectedQR(orderId);\n    setShowModal(true);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        setShowModal(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <div className=\"cart-list\">\n      {orders.map((order, index) => {\n        const orderId = generateRandomId();\n\n        return (\n          <div className=\"order-container\" key={index}>\n            <div className=\"order-qr\" onClick={() => handleQRClick(orderId)}>\n              <QRCode value={`Order ID: ${orderId}`} size={60} />\n            </div>\n            <h3>Order ID: {orderId}</h3>\n            {order.items.map((item, itemIndex) => (\n              <div className=\"cart-item\" key={itemIndex}>\n                <div className=\"order-price\">â‚º{item.price}</div>\n                <div className=\"item-name\">{item.name}</div>\n              </div>\n            ))}\n          </div>\n        );\n      })}\n      {showModal && (\n        <div className=\"modal\" onClick={() => setShowModal(false)}>\n          <div className=\"modal-content\" ref={modalRef}>\n            <span className=\"close\" onClick={() => setShowModal(false)}>&times;</span>\n            <QRCode value={`Order ID: ${selectedQR}`} size={256} />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Orders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}