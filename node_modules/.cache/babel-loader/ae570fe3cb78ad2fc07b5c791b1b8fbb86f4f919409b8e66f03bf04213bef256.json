{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import axios from'axios';import{GlobalContext}from'../../context/GlobalState';import'./profil.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user}=useContext(GlobalContext);const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchProfile=async()=>{if(user){try{const response=await axios.get('http://localhost:3000/user/profile',{headers:{Authorization:\"Bearer \".concat(user.token)}});setProfile(response.data);}catch(err){setError('Error fetching profile');console.error('Error fetching profile:',err);}finally{setLoading(false);}}};fetchProfile();},[user]);if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"p\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Profile\"}),profile?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Admin:\"}),\" \",profile.isAdmin?'Yes':'No']})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No profile data available\"})]});};export default Profile;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","GlobalContext","jsx","_jsx","jsxs","_jsxs","Profile","user","profile","setProfile","loading","setLoading","error","setError","fetchProfile","response","get","headers","Authorization","concat","token","data","err","console","children","className","email","isAdmin"],"sources":["/Users/orhan/Desktop/CepGuide/src/components/profil/profil.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { GlobalContext } from '../../context/GlobalState';\r\nimport './profil.css';\r\n\r\nconst Profile = () => {\r\n  const { user } = useContext(GlobalContext);\r\n  const [profile, setProfile] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      if (user) {\r\n        try {\r\n          const response = await axios.get('http://localhost:3000/user/profile', {\r\n            headers: {\r\n              Authorization: `Bearer ${user.token}`,\r\n            },\r\n          });\r\n          setProfile(response.data);\r\n        } catch (err) {\r\n          setError('Error fetching profile');\r\n          console.error('Error fetching profile:', err);\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return <p>Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <h1>Profile</h1>\r\n      {profile ? (\r\n        <div className=\"profile-details\">\r\n          <p><strong>Email:</strong> {profile.email}</p>\r\n          <p><strong>Admin:</strong> {profile.isAdmin ? 'Yes' : 'No'}</p>\r\n        </div>\r\n      ) : (\r\n        <p>No profile data available</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,KAAQ,2BAA2B,CACzD,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,IAAK,CAAC,CAAGV,UAAU,CAACI,aAAa,CAAC,CAC1C,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAIP,IAAI,CAAE,CACR,GAAI,CACF,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,CAAC,oCAAoC,CAAE,CACrEC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYZ,IAAI,CAACa,KAAK,CACrC,CACF,CAAC,CAAC,CACFX,UAAU,CAACM,QAAQ,CAACM,IAAI,CAAC,CAC3B,CAAE,MAAOC,GAAG,CAAE,CACZT,QAAQ,CAAC,wBAAwB,CAAC,CAClCU,OAAO,CAACX,KAAK,CAAC,yBAAyB,CAAEU,GAAG,CAAC,CAC/C,CAAC,OAAS,CACRX,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACF,CAAC,CAEDG,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACP,IAAI,CAAC,CAAC,CAEV,GAAIG,OAAO,CAAE,CACX,mBAAOP,IAAA,MAAAqB,QAAA,CAAG,YAAU,CAAG,CAAC,CAC1B,CAEA,GAAIZ,KAAK,CAAE,CACT,mBAAOT,IAAA,MAAAqB,QAAA,CAAIZ,KAAK,CAAI,CAAC,CACvB,CAEA,mBACEP,KAAA,QAAKoB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAChCrB,IAAA,OAAAqB,QAAA,CAAI,SAAO,CAAI,CAAC,CACfhB,OAAO,cACNH,KAAA,QAAKoB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BnB,KAAA,MAAAmB,QAAA,eAAGrB,IAAA,WAAAqB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChB,OAAO,CAACkB,KAAK,EAAI,CAAC,cAC9CrB,KAAA,MAAAmB,QAAA,eAAGrB,IAAA,WAAAqB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChB,OAAO,CAACmB,OAAO,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,EAC5D,CAAC,cAENxB,IAAA,MAAAqB,QAAA,CAAG,2BAAyB,CAAG,CAChC,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}